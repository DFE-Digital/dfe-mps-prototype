
{% extends "layout.html" %}

{% block pageTitle %}
  DfE Maths and Physics Service Prototype
{% endblock %}

{% block beforeContent %}
  {% from "phase-banner/macro.njk" import govukPhaseBanner %}
  {{ govukPhaseBanner({
    tag: {
      text: "beta"
    },
    html: 'This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.'
  }) }}
{% endblock %}

{% block content %}

  <div class="govuk-grid-row">
    <div class="govuk-grid-column-two-thirds">
      <h1 class="govuk-heading-xl">
        Where are you currently employed to teach?
      </h1>

      <form method="POST" action="teacher-employed">
        {% from "details/macro.njk" import govukDetails %}

        {{ govukDetails({
          summaryText: "You taught at more than one school",
          text: "For now, enter one of the schools you've taught at. You can check another school when you've finished."
        }) }}

        {% from "input/macro.njk" import govukInput %}

        <label class="govuk-label" for="schoolName">Enter the school name</label>
        <div class="govuk-form-group" id="schoolNameContainer"></div>

        {% from "button/macro.njk" import govukButton %}

        {{ govukButton({
          text: "Continue",
          preventDoubleClick: true
        }) }}
      </form>
    </div>
  </div>

{% set schoolNames = schoolList %}
<script>
window.onload = function () {
  schoolNames = "{{ schoolList | safe }}".split(',')
  accessibleAutocomplete({
    element: document.querySelector('#schoolNameContainer'),
    id: 'schoolName',
    source: schoolNames,
    minLength: 4,
    displayMenu: 'overlay',
    name: 'school-name'
  })
}
</script>

{% endblock %}
